## 도메인 분석 설계



운영에서 @ManyToMany 관계는 사용하면 안된다.

@OneToMany와 @ManyToOne 관계로 풀어서 사용해야 함.

가급적이면 양방향 연관 관계말고 단방향 연관 관계를 사용하는 게 좋다.



일대다, 다대일 양방향 연관 관계에서는 연관 관계의 주인을 정해야 한다. 일대 다 관계에서는 다에 무조건 외래키가 존재 한다. 외래키를 연관 관계의 주인으로 잡아야 한다.



연관 관계의 주인 쪽에 값을 세팅해야 값이 변경 된다.

거울 쪽(반대 편)은 단순 조회용으로 사용.

외래키가 가까운 곳에 있는 것을 연관 관계의 주인으로 잡는다. 그래야 모든게 편하다..(?)



실무에서는 @ManyToMany를 사용하면 안됨.



외래키가 있는 곳을 연관 관계의 주인으로 정해라.



## Entity 클래스 개발

예제에서는 Getter, Setter 모두 열고 하지만

실무에서는 가급적이면 Setter 사용하지 말 것(꼭 필요한 경우에만 사용!)



찾아볼 것: Enum class





## Entity 설계시 주의점

#### Entity에는 가급적 Setter를 사용하지 말자

Setter가 모두 열려 있으면 변경 포인트가 너무 많아서 유지 보수가 어렵다.



#### 모든 연관 관계는 지연로딩으로 설정

@NToOne(OneToOne, ManyToOne) 관계는 기본이 즉시로딩이므로 직접 지연로딩으로 설정해야 한다.





